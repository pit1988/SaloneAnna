\section{PHP}{
	\subsection{Descrizione generale}{
		Il linguaggio PHP è stato utilizzato nel sito per moltissimi scopi, dalla stampa delle pagine HTML all'interazione con il database. Buona parte del codice utilizzato è salvato nella cartella ‘‘utils’’, mentre il resto è usato nei file di ‘‘public_html’’. Nelle sottosezioni successive verranno approfonditi i vari casi in cui questo linguaggio è stato usato, ad eccezione dell'interazione con il database che viene spiegata nella sezione \hyperref[sec:PHPDB]{GestioneDati}.
	}
	\subsection{Pagine HTML}{
		Il codice PHP è stato usato per semplificare la creazione delle pagine HTML, ad esempio racchiudendo in apposite funzioni le parti di codice comuni a tutte le pagine, contenute nel file ‘‘library.php’’. In questo modo la creazione della pagina HTML risulta più semplice, veloce e facile da modificare; ad esempio se risulta necessario cambiare qualcosa nell'header o nel footer della pagina basta modificare il codice contenuto nell'apposita funzione, e in automatico verrà applicata la modifica a tutte le pagine. Nel caso di sezioni in cui alcune parti cambiano, come ad esempio la definizione del doctype e dei tag meta, in cui le parole chiavi, il nome della pagina e altri dati sono diversi per ogni singolo caso, sono stati previsti dei parametri, in modo da dover definire ogni volta solo le parti che cambiano.
		Un'altra semplificazione che è stata resa possibile dall'utilizzo di PHP è la modifica della grafica delle pagine quando risulta che l'utente abbia effettuato il login: anziché dover creare una copia della pagina riadattata al caso o scrivere una funzione che modifichi ogni elemento da cambiare viene utilizzata una variabile booleana, il cui valore è determinato a inizio file, che indica quale versione della pagina bisogna caricare; quando è necessario sapere cosa stampare basta analizzare il valore di tale variabile. Questo metodo è particolarmente efficace anche perché spesso le differenze tra le due versioni della pagina sono molto piccole, ad esempio possono differire per una semplice scritta o una certa struttura.
	}
	\subsection{Sessioni}{
		Le sessioni sono state usate per permettere all'utente di eseguire il login come amministratore; dal punto di vista del sito determinano se è possibile o meno rendere visibili le sezioni dedicate alle operazioni che un amministratore può eseguire, come la modifica del database. La gestione delle sessioni avviene interamente in PHP e comincia con il file ‘‘login.php’’, contenuto nella cartella ‘‘public_html’’, dove la nuova sessione viene creata se l'utente inserisce uno username e una password corretti. L'unico controllo effettuato su questi ultimi è la verifica della corrispondenza con i dati degli account presenti nel server, se uno di essi risulta valido allora avviene la creazione della sessione; in particolare non viene verificato cosa contengono i due input in quanto il controllo della corrispondenza risulterà falso se il loro formato non è corretto. Se la login ha successo allora viene mostrato un avviso apposito, altrimenti viene stampato il tipo di errore che si è verificato. Per comodità il codice che stampa queste due versioni è contenuto nello stesso file, ed è proprio per questo che esso è contenuto nella cartella ‘‘public_html’’ e non ‘‘utils’’, perché altrimenti bisognerebbe modificare dinamicamente tutti i link della pagina da stampare, come ad esempio quelli relativi ai file CSS.
		Per verificare se l'utente ha effettuato la login c'è la funzione ‘‘authentication’’, contenuta nel file ‘‘library.php’’ dentro ‘‘public_html’’; di fatto essa controlla se è stata istanziata la variabile ‘‘username’’, contenuta dentro la sessione solo se essa è stata creata, e se il tempo di vita della sessione è scaduto, tramite il metodo descritto sotto, e restituisce il valore booleano corrispondente.
		Per limitare il tempo di vita della sessione viene salvata dentro di essa una variabile, in cui viene memorizzato l'ora di creazione in fase di login; ogni volta che viene controllato se la sessione è stata creata viene invocata la funzione ‘‘checkSessionLifetime’’, contenuta nel file ‘‘library.php’’ in ‘‘public_html’’, in cui viene controllato se la variabile salvata ha un valore che varia di almeno un'ora rispetto all'ora locale. In caso positivo la sessione viene eliminata e viene restituito ‘‘FALSE’’, altrimenti viene restituito ‘‘TRUE’’.
		Infine per effettuare il logout c'è il file ‘‘logout.php’’, contenuto dentro a ‘‘utils’’, in cui prima vengono distrutte le variabili della sessione e poi la sessione stessa.
	}
}